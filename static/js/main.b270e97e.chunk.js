(this["webpackJsonplarge-data-table"]=this["webpackJsonplarge-data-table"]||[]).push([[0],{51:function(e,t,n){},56:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"productList",(function(){return q}));var r=n(0),o=n.n(r),l=n(13),c=n.n(l),i=n(18),s=(n(51),n(14)),d=n(15),u=n(9),b=n(20),h=n(19),j="FETCH_PRODUCT_LIST_REQUEST",O="FETCH_PRODUCT_LIST_SUCCESS",p="FETCH_PRODUCT_LIST_FAILURE",g="API",f="API_START",m="API_END";function v(e){return{type:O,payload:e}}function x(e){return{type:p,payload:e}}var w=n(2),C=n(40),y=n(32),S=n(33),R=n(6),k=n(39),E=function(){var e=document.createElement("div");e.setAttribute("style","width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;"),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},T=n(41),N=n(1);function D(e){var t=e.preGlobalFilteredRows,n=e.globalFilter,a=e.setGlobalFilter,r=t.length,l=o.a.useState(n),c=Object(T.a)(l,2),i=c[0],s=c[1],d=Object(R.useAsyncDebounce)((function(e){a(e||void 0)}),200);return Object(N.jsxs)("span",{children:["Search:"," ",Object(N.jsx)("input",{value:i||"",onChange:function(e){s(e.target.value),d(e.target.value)},placeholder:"".concat(r," records..."),style:{fontSize:"1.1rem",border:"0"}})]})}function L(e){var t=e.columns,n=e.data,a=e.defaultColumnWidth,r=e.onSelectionChange,l=void 0===r?function(){}:r,c=e.onRowClick,i=void 0===c?function(){}:c,s=e.globalSearch,d=o.a.useMemo((function(){return{width:a||150}}),[a]),u=o.a.useMemo((function(){return E()}),[]),b=Object(R.useTable)({columns:t,data:n,defaultColumn:d},R.useGlobalFilter,R.useSortBy,R.useRowSelect,R.useBlockLayout),h=b.getTableProps,j=b.getTableBodyProps,O=b.headerGroups,p=b.rows,g=b.totalColumnsWidth,f=b.prepareRow,m=b.state,v=m.selectedRowIds,x=m.globalFilter,C=b.preGlobalFilteredRows,y=b.setGlobalFilter;o.a.useEffect((function(){var e=Object.keys(v),t=e.length===n.length?"All":e;console.log("onSelectionChange",l),l(t)}),[l,v]);var S=o.a.useCallback((function(e){var t=e.index,n=e.style,a=p[t];return f(a),Object(N.jsx)("div",Object(w.a)(Object(w.a)({},a.getRowProps({style:n})),{},{onClick:function(){i(a.values,t)},className:"".concat(t%2===0?"tr tr-striped":"tr"),children:a.cells.map((function(e){return Object(N.jsx)("div",Object(w.a)(Object(w.a)({},e.getCellProps()),{},{style:Object(w.a)(Object(w.a)({},e.getCellProps().style),{},{width:e&&e.column&&e.column.width||150}),className:"td",children:e.render("Cell")}))}))}))}),[f,p,v,i]);return Object(N.jsxs)("div",Object(w.a)(Object(w.a)({},h()),{},{className:"table table-striped",children:[Object(N.jsxs)("div",{className:"thead",children:[s&&Object(N.jsx)("div",{style:{marginRight:u},className:"tr",children:Object(N.jsx)("div",{className:"th",style:{height:"50px",justifyContent:"flex-end"},children:Object(N.jsx)(D,{preGlobalFilteredRows:C,globalFilter:x,setGlobalFilter:y})})}),O.map((function(e){return Object(N.jsx)("div",Object(w.a)(Object(w.a)({},e.getHeaderGroupProps()),{},{style:Object(w.a)(Object(w.a)({},e.getHeaderGroupProps().style),{},{marginRight:u}),className:"tr",children:e.headers.map((function(e){return e.sortable?Object(N.jsxs)("div",Object(w.a)(Object(w.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{style:Object(w.a)(Object(w.a)({},e.getHeaderProps.style),{},{width:e.width}),className:"th",children:[e.render("Header"),Object(N.jsx)("span",{className:"action-icon",children:e.isSorted?e.isSortedDesc?"\u25bc":"\u25b2":"\u21c5"})]})):Object(N.jsx)("div",Object(w.a)(Object(w.a)({},e.getHeaderProps()),{},{style:Object(w.a)(Object(w.a)({},e.getHeaderProps.style),{},{width:e.width}),className:"th",children:e.render("Header")}))}))}))}))]}),Object(N.jsx)("div",Object(w.a)(Object(w.a)({},j()),{},{className:"tbody",children:Object(N.jsx)(k.a,{height:350,itemCount:p.length,itemSize:35,width:g+u,children:S})}))]}))}var _,P=n(42),I=o.a.forwardRef((function(e,t){var n=e.indeterminate,a=Object(P.a)(e,["indeterminate"]),r=o.a.useRef(),l=t||r;return o.a.useEffect((function(){l.current.indeterminate=n}),[l,n]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("input",Object(w.a)({className:"mr-t-10",type:"checkbox",ref:l},a))})})),F=S.a.div(_||(_=Object(y.a)(["\n  padding: 1rem;\n\n  .table-striped {\n    .tbody .tr-striped {\n      background-color: rgba(0, 0, 0, 0.03);\n    }\n  }\n\n  .table {\n    display: inline-block;\n    border-spacing: 0;\n    border: 1px solid #ddd;\n    word-break: break-word;\n    width: 100%;\n\n    .tr {\n      :last-child {\n        .td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    .th {\n      display: flex;\n      box-sizing: border-box;\n      font-weight: bold;\n      justify-content: center;\n      align-items: center;\n\n      .action-icon{\n        color: rgb(34, 167, 208);\n        cursor: pointer;\n      }\n    }\n\n    .td {\n      .cell-rt-align {\n        padding: 5px;\n        text-align: right;\n      }\n      .mr-t-10 {\n        margin-top: 10px;\n      }\n    }\n\n    .th,\n    .td {\n      margin: 0;\n      border-bottom: 1px solid #ddd;\n      border-right: 1px solid #ddd;\n\n      .cell-padding {\n        padding: 5px;\n      }\n\n      :last-child {\n        border-right: 1px solid #ddd;\n      }\n    }\n  }\n"])));var A=function(e){var t=e.columns,n=e.rows,a=e.defaultColumnWidth,r=e.onSelectionChange,l=e.onRowClick,c=e.globalSearch,i=o.a.useMemo((function(){return t&&t.length>0?[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(N.jsx)("div",{children:Object(N.jsx)(I,Object(w.a)({},t()))})},width:100,Cell:function(e){var t=e.row;return Object(N.jsx)("div",{children:Object(N.jsx)(I,Object(w.a)({},t.getToggleRowSelectedProps()))})}}].concat(Object(C.a)(t.filter((function(e){return!e.isHidden})).map((function(e){return Object(w.a)(Object(w.a)({},e),{},{Header:function(){return Object(N.jsx)("div",{className:"cell-padding",children:e.label})},Cell:function(t){var n=t.value;return e.numeric?Object(N.jsx)("div",{className:"cell-rt-align",children:n}):Object(N.jsx)("div",{className:"cell-padding",children:e.isImage&&"string"===typeof n?Object(N.jsx)("img",{width:25,src:n,alt:"thumbnail"}):e.isLink&&"string"===typeof n?Object(N.jsx)("a",{href:"".concat(n),target:"_blank",rel:"noreferrer",children:"Open Link \xbb"}):n})},width:e.width||a,accessor:e.id})})))):[]}),[t,a]),s=o.a.useMemo((function(){return function(e){return e&&e.length>0?e.map((function(e){return e})):[]}(n)}),[n]);return Object(N.jsx)(F,{children:Object(N.jsx)(L,{columns:i,data:s,defaultColumnWidth:a,onSelectionChange:r,onRowClick:l,globalSearch:c})})};function H(e){var t=e.selectedRows,n=e.lastRowClickedData,a=e.lastRowClickedIndex;return Object(N.jsxs)("div",{className:"alerts",children:[t&&t.length>0&&Object(N.jsx)("div",{clasName:"alert alert-info",children:Object(N.jsxs)("h5",{className:"alert-title",children:["Selected Rows: ",Object(N.jsx)("span",{className:"alert-title-data",children:JSON.stringify(t)})]})}),n&&Object(N.jsxs)("div",{clasName:"alert alert-info",children:[Object(N.jsxs)("h5",{className:"alert-title",children:["Last clicked Row: ",Object(N.jsxs)("span",{className:"alert-title-data",children:[a," "]})]}),Object(N.jsx)("p",{className:"alert-note",children:Object(N.jsx)("i",{children:"NOTE: Indexing of rows starts from 0"})}),Object(N.jsx)("pre",{className:"clickedObject",children:Object(N.jsx)("code",{children:JSON.stringify(n,null,2)})})]})]})}var U=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={hasError:!1,error:null,errorInfo:null},a}return Object(d.a)(n,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0,errorInfo:e})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.errorInfo,a=this.props.children;return t?Object(N.jsxs)("div",{children:[Object(N.jsx)("h5",{style:{color:"tomato"},children:"Failed to render data table. Please try again later."}),n&&Object(N.jsx)("p",{children:JSON.stringify(n)})]}):a}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(o.a.Component),G=[{id:"id",label:"ID",numeric:!0,width:"100px",sortable:!0},{id:"thumbnailUrl",label:"Thumbnail",isImage:!0},{id:"title",label:"Title",numeric:!1,width:"100%",sortable:!0},{id:"albumId",label:"Album ID",numeric:!0,width:"100px",isHidden:!0},{id:"url",label:"URL",numeric:!1,width:"25%",isLink:!0}];n(56);function W(e){var t=e.isLoadingData,n=e.error,a=e.data,r=e.onSelectionChange,o=e.onRowClick;return t?Object(N.jsx)("div",{children:"Loading . . ."}):n&&n.message?Object(N.jsxs)("div",{children:["Failed ",n&&n.message]}):a&&a.length>0?Object(N.jsx)(A,{columns:G,rows:a,defaultColumnWidth:300,onSelectionChange:r,onRowClick:o,globalSearch:!0}):Object(N.jsx)("div",{})}var B=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onSelectionChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];console.log("selectedRows",e),a.setState({selectedRows:e})},a.onRowClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("onRowClick",e),a.setState({lastRowClickedData:e,lastRowClickedIndex:t})},a.state={selectedRows:[],lastRowClickedData:null,lastRowClickedIndex:null},a.onSelectionChange=a.onSelectionChange.bind(Object(u.a)(a)),a.onRowClick=a.onRowClick.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchProductList)()}},{key:"render",value:function(){var e=this.state,t=e.selectedRows,n=e.lastRowClickedData,a=e.lastRowClickedIndex,r=this.props,o=r.isLoadingData,l=r.error,c=r.data;return Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)("header",{className:"App-header",children:Object(N.jsxs)("h4",{className:"App-logo",children:["ACME ",Object(N.jsx)("i",{children:"Inc."})]})}),Object(N.jsxs)(U,{children:[Object(N.jsx)(H,{selectedRows:t,lastRowClickedData:n,lastRowClickedIndex:a}),Object(N.jsx)(W,{isLoadingData:o,error:l,data:c,onSelectionChange:this.onSelectionChange,onRowClick:this.onRowClick})]})]})}}]),n}(r.Component),M=Object(i.b)((function(e){var t=e.productList,n=t.data,a=void 0===n?[]:n,r=t.isLoadingData,o=void 0!==r&&r,l=t.error;return{data:a,isLoadingData:o,error:void 0===l?null:l}}),{fetchProductList:function(){return function(e){var t=e.url,n=void 0===t?"":t,a=e.method,r=void 0===a?"GET":a,o=e.data,l=void 0===o?null:o,c=e.accessToken,i=void 0===c?null:c,s=e.onSuccess,d=void 0===s?function(){}:s,u=e.onFailure,b=void 0===u?function(){}:u,h=e.label,j=void 0===h?"":h,O=e.headersOverride;return{type:g,payload:{url:n,method:r,data:l,accessToken:i,onSuccess:d,onFailure:b,label:j,headersOverride:void 0===O?null:O}}}({url:"https://jsonplaceholder.typicode.com/photos",onSuccess:v,onFailure:x,label:j})}})(B),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),o(e),l(e)}))},z=n(12),K=n(37),V=n.n(K),X=n(38);function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoadingData:!0,data:[],error:null},t=arguments.length>1?arguments[1]:void 0;switch(console.log("productList action type => ",t.type,e),t.type){case f:if(t.payload===j)return Object(w.a)(Object(w.a)({},e),{},{isLoadingData:!0});break;case m:if(t.payload===j)return Object(w.a)(Object(w.a)({},e),{},{isLoadingData:!1});break;case O:return Object(w.a)(Object(w.a)({},e),{},{data:t.payload,isLoadingData:!1,error:null});case p:return Object(w.a)(Object(w.a)({},e),{},{data:[],isLoadingData:!1,error:t.payload});default:return e}return e}var Q=n(16),Y=n(11),Z=n.n(Y),$=function(e){var t=e.dispatch;return function(e){return function(n){if(e(n),n.type===g){var a=n.payload,r=a.url,o=a.method,l=a.data,c=a.accessToken,i=a.onSuccess,s=a.onFailure,d=a.label,u=a.headers,b=["GET","DELETE"].includes(o)?"params":"data";Z.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"/super-data-table",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL||"",Z.a.defaults.headers.common["Content-Type"]="application/json",Z.a.defaults.headers.common.Authorization="Bearer ".concat(c),d&&t(function(e){return{type:f,payload:e}}(d)),Z.a.request(Object(Q.a)({url:r,method:o,headers:u},b,l)).then((function(e){var n=e.data;console.log("url",r,n),t(i(n))})).catch((function(e){t(function(e){return{type:"API_ERROR",error:e}}(e)),t(s(e)),e.response&&403===e.response.status&&t(function(e){return{type:"ACCESS_DENIED",payload:{url:e}}}(window.location.pathname))})).finally((function(){d&&t(function(e){return{type:m,payload:e}}(d))}))}}}},ee=Object(z.a)($,X.a,V.a),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.c,ne=Object(z.d)(Object(z.b)(Object(w.a)({},a)),{},te(ee));window.store=ne;var ae=ne;c.a.render(Object(N.jsx)(o.a.StrictMode,{children:Object(N.jsx)(i.a,{store:ae,children:Object(N.jsx)(M,{})})}),document.getElementById("root")),J()}},[[75,1,2]]]);
//# sourceMappingURL=main.b270e97e.chunk.js.map