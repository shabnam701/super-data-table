(this["webpackJsonplarge-data-table"]=this["webpackJsonplarge-data-table"]||[]).push([[0],{51:function(e,t,n){},56:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"productList",(function(){return q}));var r=n(0),l=n.n(r),o=n(13),c=n.n(o),i=n(18),s=(n(51),n(14)),d=n(15),u=n(9),b=n(20),h=n(19),j="FETCH_PRODUCT_LIST_REQUEST",O="FETCH_PRODUCT_LIST_SUCCESS",p="FETCH_PRODUCT_LIST_FAILURE",g="API",f="API_START",m="API_END";function v(e){return{type:O,payload:e}}function x(e){return{type:p,payload:e}}var w,C=n(2),y=n(32),R=n(33),S=n(41),k=n(40),E=n(42),T=n(6),D=n(39),N=function(){var e=document.createElement("div");e.setAttribute("style","width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;"),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},L=n(1),_=l.a.forwardRef((function(e,t){var n=e.indeterminate,a=Object(E.a)(e,["indeterminate"]),r=l.a.useRef(),o=t||r;return l.a.useEffect((function(){o.current.indeterminate=n}),[o,n]),Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("input",Object(C.a)({className:"mr-t-10",type:"checkbox",ref:o},a))})}));function I(e){var t=e.preGlobalFilteredRows,n=e.globalFilter,a=e.setGlobalFilter,r=t.length,o=l.a.useState(n),c=Object(k.a)(o,2),i=c[0],s=c[1],d=Object(T.useAsyncDebounce)((function(e){a(e||void 0)}),200);return Object(L.jsxs)("span",{children:["Search:"," ",Object(L.jsx)("input",{value:i||"",onChange:function(e){s(e.target.value),d(e.target.value)},placeholder:"".concat(r," records..."),style:{fontSize:"1.1rem",border:"0"}})]})}function P(e){var t=e.columns,n=e.data,a=e.defaultColumnWidth,r=e.onSelectionChange,o=e.onRowClick,c=e.globalSearch,i=l.a.useMemo((function(){return{width:a||150}}),[a]),s=l.a.useMemo((function(){return N()}),[]),d=Object(T.useTable)({columns:t,data:n,defaultColumn:i,stateReducer:function(e,t,a){if(e.selectedRowIds!==a.selectedRowIds){var l=Object.keys(e.selectedRowIds),o=l.length===n.length?"All":l;r(o)}return e}},T.useGlobalFilter,T.useSortBy,T.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(L.jsx)("div",{children:Object(L.jsx)(_,Object(C.a)({},t()))})},width:100,Cell:function(e){var t=e.row;return Object(L.jsx)("div",{children:Object(L.jsx)(_,Object(C.a)({},t.getToggleRowSelectedProps()))})}}].concat(Object(S.a)(e))}))}),T.useBlockLayout),u=d.getTableProps,b=d.getTableBodyProps,h=d.headerGroups,j=d.rows,O=d.totalColumnsWidth,p=d.prepareRow,g=d.state,f=g.selectedRowIds,m=g.globalFilter,v=d.preGlobalFilteredRows,x=d.setGlobalFilter,w=l.a.useCallback((function(e){var t=e.index,n=e.style,a=j[t];return p(a),Object(L.jsx)("div",Object(C.a)(Object(C.a)({},a.getRowProps({style:n})),{},{onClick:function(){o(a.values,t)},className:"".concat(t%2===0?"tr tr-striped":"tr"),children:a.cells.map((function(e){return Object(L.jsx)("div",Object(C.a)(Object(C.a)({},e.getCellProps()),{},{style:Object(C.a)(Object(C.a)({},e.getCellProps().style),{},{width:e&&e.column&&e.column.width||150}),className:"td",children:e.render("Cell")}))}))}))}),[p,j,f,o]);return Object(L.jsxs)("div",Object(C.a)(Object(C.a)({},u()),{},{className:"table table-striped",children:[Object(L.jsxs)("div",{className:"thead",children:[c&&Object(L.jsx)("div",{style:{marginRight:s},className:"tr",children:Object(L.jsx)("div",{className:"th",style:{height:"50px",justifyContent:"flex-end"},children:Object(L.jsx)(I,{preGlobalFilteredRows:v,globalFilter:m,setGlobalFilter:x})})}),h.map((function(e){return Object(L.jsx)("div",Object(C.a)(Object(C.a)({},e.getHeaderGroupProps()),{},{style:Object(C.a)(Object(C.a)({},e.getHeaderGroupProps().style),{},{marginRight:s}),className:"tr",children:e.headers.map((function(e){return e.sortable?Object(L.jsxs)("div",Object(C.a)(Object(C.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{style:Object(C.a)(Object(C.a)({},e.getHeaderProps.style),{},{width:e.width}),className:"th",children:[e.render("Header"),Object(L.jsx)("span",{style:{color:"#22a7d0"},children:e.isSorted?e.isSortedDesc?"\u25bc":"\u25b2":"\u21c5"})]})):Object(L.jsx)("div",Object(C.a)(Object(C.a)({},e.getHeaderProps()),{},{style:Object(C.a)(Object(C.a)({},e.getHeaderProps.style),{},{width:e.width}),className:"th",children:e.render("Header")}))}))}))}))]}),Object(L.jsx)("div",Object(C.a)(Object(C.a)({},b()),{},{className:"tbody",children:Object(L.jsx)(D.a,{height:350,itemCount:j.length,itemSize:35,width:O+s,children:w})}))]}))}var F=R.a.div(w||(w=Object(y.a)(["\n  padding: 1rem;\n\n  .table-striped {\n    .tbody .tr-striped {\n      background-color: rgba(0, 0, 0, 0.03);\n    }\n  }\n\n  .table {\n    display: inline-block;\n    border-spacing: 0;\n    border: 1px solid #ddd;\n    word-break: break-word;\n    width: 100%;\n\n    .tr {\n      :last-child {\n        .td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    .th {\n      display: flex;\n      box-sizing: border-box;\n      font-weight: bold;\n      justify-content: center;\n      align-items: center;\n    }\n\n    .td {\n      .cell-rt-align {\n        padding: 5px;\n        text-align: right;\n      }\n      .mr-t-10 {\n        margin-top: 10px;\n      }\n    }\n\n    .th,\n    .td {\n      margin: 0;\n      border-bottom: 1px solid #ddd;\n      border-right: 1px solid #ddd;\n\n      .cell-padding {\n        padding: 5px;\n      }\n\n      :last-child {\n        border-right: 1px solid #ddd;\n      }\n    }\n  }\n"])));var A=function(e){var t=e.columns,n=e.rows,a=e.defaultColumnWidth,r=e.onSelectionChange,o=e.onRowClick,c=e.globalSearch,i=l.a.useMemo((function(){return t&&t.length>0?t.filter((function(e){return!e.isHidden})).map((function(e){return Object(C.a)(Object(C.a)({},e),{},{Header:function(){return Object(L.jsx)("div",{className:"cell-padding",children:e.label})},Cell:function(t){var n=t.value;return e.numeric?Object(L.jsx)("div",{className:"cell-rt-align",children:n}):Object(L.jsx)("div",{className:"cell-padding",children:e.isImage&&"string"===typeof n?Object(L.jsx)("img",{width:25,src:n,alt:"thumbnail"}):e.isLink&&"string"===typeof n?Object(L.jsx)("a",{href:"".concat(n),target:"_blank",rel:"noreferrer",children:"Open Link \xbb"}):n})},width:e.width||a,accessor:e.id})})):[]}),[t,a]),s=l.a.useMemo((function(){return function(e){return e&&e.length>0?e.map((function(e){return e})):[]}(n)}),[n]);return Object(L.jsx)(F,{children:Object(L.jsx)(P,{columns:i,data:s,defaultColumnWidth:a,onSelectionChange:r,onRowClick:o,globalSearch:c})})};function H(e){var t=e.selectedRows,n=e.lastRowClickedData,a=e.lastRowClickedIndex;return Object(L.jsxs)("div",{className:"alerts",children:[t&&t.length>0&&Object(L.jsx)("div",{clasName:"alert alert-info",children:Object(L.jsxs)("h5",{className:"alert-title",children:["Selected Rows: ",Object(L.jsx)("span",{className:"alert-title-data",children:JSON.stringify(t)})]})}),n&&Object(L.jsxs)("div",{clasName:"alert alert-info",children:[Object(L.jsxs)("h5",{className:"alert-title",children:["Last clicked Row: ",Object(L.jsxs)("span",{className:"alert-title-data",children:[a," "]})]}),Object(L.jsx)("p",{className:"alert-note",children:Object(L.jsx)("i",{children:"NOTE: Indexing of rows starts from 0"})}),Object(L.jsx)("pre",{className:"clickedObject",children:Object(L.jsx)("code",{children:JSON.stringify(n,null,2)})})]})]})}var U=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={hasError:!1,error:null,errorInfo:null},a}return Object(d.a)(n,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0,errorInfo:e})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.errorInfo,a=this.props.children;return t?Object(L.jsxs)("div",{children:[Object(L.jsx)("h5",{style:{color:"tomato"},children:"Failed to render data table. Please try again later."}),n&&Object(L.jsx)("p",{children:JSON.stringify(n)})]}):a}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(l.a.Component),G=[{id:"id",label:"ID",numeric:!0,width:"100px",sortable:!0},{id:"thumbnailUrl",label:"Thumbnail",isImage:!0},{id:"title",label:"Title",numeric:!1,width:"100%",sortable:!0},{id:"albumId",label:"Album ID",numeric:!0,width:"100px",isHidden:!0},{id:"url",label:"URL",numeric:!1,width:"25%",isLink:!0}];n(56);function W(e){var t=e.isLoadingData,n=e.error,a=e.data,r=e.onSelectionChange,l=e.onRowClick;return t?Object(L.jsx)("div",{children:"Loading . . ."}):n&&n.message?Object(L.jsxs)("div",{children:["Failed ",n&&n.message]}):a&&a.length>0?Object(L.jsx)(A,{columns:G,rows:a,defaultColumnWidth:300,onSelectionChange:r,onRowClick:l,globalSearch:!0}):Object(L.jsx)("div",{})}var B=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onSelectionChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];console.log("selectedRows",e),a.setState({selectedRows:e})},a.onRowClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("onRowClick",e),a.setState({lastRowClickedData:e,lastRowClickedIndex:t})},a.state={selectedRows:[],lastRowClickedData:null,lastRowClickedIndex:null},a.onSelectionChange=a.onSelectionChange.bind(Object(u.a)(a)),a.onRowClick=a.onRowClick.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchProductList)()}},{key:"render",value:function(){var e=this.state,t=e.selectedRows,n=e.lastRowClickedData,a=e.lastRowClickedIndex,r=this.props,l=r.isLoadingData,o=r.error,c=r.data;return Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)("header",{className:"App-header",children:Object(L.jsxs)("h4",{className:"App-logo",children:["ACME ",Object(L.jsx)("i",{children:"Inc."})]})}),Object(L.jsxs)(U,{children:[Object(L.jsx)(H,{selectedRows:t,lastRowClickedData:n,lastRowClickedIndex:a}),Object(L.jsx)(W,{isLoadingData:l,error:o,data:c,onSelectionChange:this.onSelectionChange,onRowClick:this.onRowClick})]})]})}}]),n}(r.Component),M=Object(i.b)((function(e){var t=e.productList,n=t.data,a=void 0===n?[]:n,r=t.isLoadingData,l=void 0!==r&&r,o=t.error;return{data:a,isLoadingData:l,error:void 0===o?null:o}}),{fetchProductList:function(){return function(e){var t=e.url,n=void 0===t?"":t,a=e.method,r=void 0===a?"GET":a,l=e.data,o=void 0===l?null:l,c=e.accessToken,i=void 0===c?null:c,s=e.onSuccess,d=void 0===s?function(){}:s,u=e.onFailure,b=void 0===u?function(){}:u,h=e.label,j=void 0===h?"":h,O=e.headersOverride;return{type:g,payload:{url:n,method:r,data:o,accessToken:i,onSuccess:d,onFailure:b,label:j,headersOverride:void 0===O?null:O}}}({url:"https://jsonplaceholder.typicode.com/photos",onSuccess:v,onFailure:x,label:j})}})(B),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,l=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),l(e),o(e)}))},z=n(12),K=n(37),V=n.n(K),X=n(38);function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoadingData:!0,data:[],error:null},t=arguments.length>1?arguments[1]:void 0;switch(console.log("productList action type => ",t.type,e),t.type){case f:if(t.payload===j)return Object(C.a)(Object(C.a)({},e),{},{isLoadingData:!0});break;case m:if(t.payload===j)return Object(C.a)(Object(C.a)({},e),{},{isLoadingData:!1});break;case O:return Object(C.a)(Object(C.a)({},e),{},{data:t.payload,isLoadingData:!1,error:null});case p:return Object(C.a)(Object(C.a)({},e),{},{data:[],isLoadingData:!1,error:t.payload});default:return e}return e}var Q=n(16),Y=n(11),Z=n.n(Y),$=function(e){var t=e.dispatch;return function(e){return function(n){if(e(n),n.type===g){var a=n.payload,r=a.url,l=a.method,o=a.data,c=a.accessToken,i=a.onSuccess,s=a.onFailure,d=a.label,u=a.headers,b=["GET","DELETE"].includes(l)?"params":"data";Z.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"/super-data-table",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL||"",Z.a.defaults.headers.common["Content-Type"]="application/json",Z.a.defaults.headers.common.Authorization="Bearer ".concat(c),d&&t(function(e){return{type:f,payload:e}}(d)),Z.a.request(Object(Q.a)({url:r,method:l,headers:u},b,o)).then((function(e){var n=e.data;console.log("url",r,n),t(i(n))})).catch((function(e){t(function(e){return{type:"API_ERROR",error:e}}(e)),t(s(e)),e.response&&403===e.response.status&&t(function(e){return{type:"ACCESS_DENIED",payload:{url:e}}}(window.location.pathname))})).finally((function(){d&&t(function(e){return{type:m,payload:e}}(d))}))}}}},ee=Object(z.a)($,X.a,V.a),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.c,ne=Object(z.d)(Object(z.b)(Object(C.a)({},a)),{},te(ee));window.store=ne;var ae=ne;c.a.render(Object(L.jsx)(l.a.StrictMode,{children:Object(L.jsx)(i.a,{store:ae,children:Object(L.jsx)(M,{})})}),document.getElementById("root")),J()}},[[75,1,2]]]);
//# sourceMappingURL=main.9e97d4aa.chunk.js.map